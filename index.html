<html>

<head>
  <title>Cool html calendar for printing</title>
  <style>
    :root {
      box-sizing: border-box;
      font-family: sans-serif;
    }
    
    html, body {
      margin: 0;
      padding: 0;
    }
    
    form {
      padding: 1rem;
    }

    @media print {
      @page {
        margin: 0.2in;
      }

      form {
        display: none;
      }
    }

    .centerOnPage {
      break-after: always;

      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;

      flex-direction: column;
      gap: 1rem;
    }

    #calendar.horiz .centerOnPage {
      flex-direction: row;
    }

    .month {
      display: grid;
      grid-template-columns: repeat(7, 1fr);

      width: 100%;
      height: 100%;
      gap: 2px;
    }
    
    .month:has(> .monthheader), .month:has(> .weekheader) {
      grid-template-rows: min-content;
    }

    .month:has(> .monthheader):has(> .weekheader) {
      grid-template-rows: min-content min-content;
    }
    
    .monthheader {
      grid-column: 1 / 8;
      background-color: lightgray;
      font-size: 200%;
      text-align: center;
    }
    
    .weekheader {
      text-align: center;
      background-color: darkgray;
      color: white;
      overflow: hidden;
    }

    .day {
      padding: 0.2rem;
      border: 2px solid lightgray;
    }

    .Sun {
      grid-column: 1/2;
    }

    .Mon {
      grid-column: 2/3;
    }

    .Tue {
      grid-column: 3/4;
    }

    .Wed {
      grid-column: 4/5;
    }

    .Thu {
      grid-column: 5/6;
    }

    .Fri {
      grid-column: 6/7;
    }

    .Sat {
      grid-column: 7/8;
    }
  </style>

  <script type="text/javascript">
    "use strict";

    const monthNames = [
      "January", "February", "March", "April", "May", "June",
      "July", "August", "September", "October", "November", "December"
    ];
    const monthShortNames = monthNames.map(x => x.slice(0, 3));
    const JANUARY = 0, FEBRUARY = 1, MARCH = 2, APRIL = 3, MAY = 4, JUNE = 5,
      JULY = 6, AUGUST = 7, SEPTEMBER = 8, OCTOBER = 9, NOVEMBER = 10, DECEMBER = 11;

    const weekNames = [
      "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"
    ];
    const weekShortNames = weekNames.map(x => x.slice(0, 3));
    const SUNDAY = 0, MONDAY = 1, TUESDAY = 2, WEDNESDAY = 3, THURSDAY = 4, FRIDAY = 5, SATURDAY = 6;

    const settings = {
      currentYear: 2025,
      duplex: false,
      monthType: "long",
      weekType: "short"
    };

    //"i" ranges from 0 to 11
    function makeMonth(year, month) {
      const div = document.createElement("div");
      div.classList.add("month", monthShortNames[month]);

      if (settings.monthType != "none") {
        let header = document.createElement("div");
        header.textContent = settings.monthType == "short" ? monthShortNames[month] : monthNames[month];
        header.classList.add("monthheader", monthShortNames[month]);
        div.appendChild(header);
      }
      
      if(settings.weekType != "none") {
        for(let weekday = 0; weekday < 7; weekday++) {
          let wk = document.createElement("div");
          wk.textContent = settings.weekType == "short" ? weekShortNames[weekday] : weekNames[weekday];
          wk.classList.add("weekheader", weekShortNames[weekday]); //will place it correctly on the calendar
          div.appendChild(wk);
        }
      }

      let date = new Date(year, month); //first of the month
      while (date.getUTCMonth() == month) {
        let day = date.getUTCDate();
        let weekday = date.getUTCDay();

        date.setUTCDate(date.getUTCDate() + 1); // "i++"

        //GREGORIAN REFORM (FUNNY!!!)
        //Tbf it doesn't actually handle the pre-Gregorian leap day rule so if you go back in time
        //further than this it'll still drift. im just doing this for the meme's
        if ((year < 1582) || (year == 1582 && month < OCTOBER) || (year == 1582 && month == OCTOBER && day <= 4)) weekday = (weekday + 3) % 7;
        else if (year == 1582 && month == OCTOBER && day > 4 && day < 15) continue;

        const daydiv = document.createElement("div");
        daydiv.textContent = day;
        daydiv.classList.add("day", weekShortNames[weekday]);
        div.appendChild(daydiv);
      }

      return div;
    }

    function updateCalendar() {
      const calendar = document.getElementById("calendar");
      while (calendar.firstChild) calendar.firstChild.remove();

      if (settings.duplex) {
        for (let i = 0; i < 12; i += 2) {
          const centerOnPage = document.createElement("div");
          centerOnPage.classList.add("centerOnPage");
          centerOnPage.appendChild(makeMonth(settings.currentYear, i));
          centerOnPage.appendChild(makeMonth(settings.currentYear, i + 1));
          calendar.appendChild(centerOnPage);
        }
      } else {
        for (let i = 0; i < 12; i++) {
          const centerOnPage = document.createElement("div");
          centerOnPage.classList.add("centerOnPage");
          centerOnPage.appendChild(makeMonth(settings.currentYear, i));

          calendar.appendChild(centerOnPage);
        }
      }
    }

    document.addEventListener("DOMContentLoaded", _ => {
      updateCalendar();

      document.getElementsByName("duplexselect").forEach(e => e.addEventListener("change", _ => {
        settings.duplex = e.id != "single";
        if (e.id.includes("horiz")) document.getElementById("calendar").classList.add("horiz");
        else document.getElementById("calendar").classList.remove("horiz");

        updateCalendar();
      }));

      document.getElementsByName("monthselect").forEach(e => e.addEventListener("change", _ => {
        settings.monthType = e.value;
        updateCalendar();
      }));

      document.getElementsByName("weekselect").forEach(e => e.addEventListener("change", _ => {
        settings.weekType = e.value;
        updateCalendar();
      }));

      document.getElementById("year").addEventListener("change", e => {
        settings.currentYear = e.target.value;
        updateCalendar();
      })
    });
  </script>
</head>

<body>
  <form>
    <fieldset>
      <legend>Date</legend>
      <p><input type="number" id="year" value="2025" /><label for="year">Year</label></p>
    </fieldset>

    <fieldset>
      <legend>Page layout</legend>
      <p><input type="radio" name="duplexselect" id="single" checked /><label for="single">One month</label></p>
      <p><input type="radio" name="duplexselect" id="duplex-horiz" /><label for="duplex-horiz">Two months, side by
          side (looks ok-ish in landscape)</label></p>
      <p><input type="radio" name="duplexselect" id="duplex-vert" /><label for="duplex-vert">Two months, vertically
          stacked (looks good in portrait)</label></p>
    </fieldset>

    <fieldset>
      <legend>Headers</legend>
      <p><input type="radio" name="monthselect" id="month-long" value="long" checked /><label for="month-long">Full
          months</label></p>
      <p><input type="radio" name="monthselect" id="month-short" value="short" /><label for="month-short">Short
          months</label></p>
      <p><input type="radio" name="monthselect" id="month-none" value="none" /><label for="month-none">No month
          names</label></p>

      <p><input type="radio" name="weekselect" id="week-long" value="long" /><label for="week-long">Full
          weekdays</label></p>
      <p><input type="radio" name="weekselect" id="week-short" value="short" checked /><label for="week-short">Short
          weekdays</label></p>
      <p><input type="radio" name="weekselect" id="week-none" value="none" /><label for="week-none">No weekdays</label>
      </p>
    </fieldset>

    <fieldset>
      <legend>Finish</legend>
      <p><input type="button" id="print" value="Print" onclick="window.print()"> <i>This form will be hidden</i></p>
      In the browser print dialog, remember to uncheck "Print headers and footers", and check "Print backgrounds"
    </fieldset>
  </form>
  <div id="calendar">Please enable inline Javascript to use the calendar</div>
</body>

</html>